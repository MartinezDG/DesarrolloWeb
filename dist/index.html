<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Tareas</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">

    <h1 class="text-center">Lista de Tareas</h1>
    <div id="todo-list"></div> <!-- Aquí se mostrarán los datos -->

</body>

<script type="module" src="./index.js"></script>
<script type="module">
    import { collection } from "./index.js"; // Importa collection de index.js
    // Aquí no volvemos a crear el objeto, simplemente lo usamos después de que se haya creado en index.js

    // Acceder al objeto collection
    // Como el código en index.js ya ha creado el objeto, lo puedes usar aquí sin necesidad de recrearlo
    window.addEventListener('DOMContentLoaded', () => {
        // Obtener el div donde queremos mostrar los datos
        let div = document.getElementById("todo-list");

        // Agregar el nombre del usuario y mostrar los todos
        let userNameHeader = document.createElement("h3");
        userNameHeader.textContent = `${collection.userName}'s Todo List`;
        div.appendChild(userNameHeader);

        // Mostrar los elementos de la colección
        collection.getTodoItems(true).forEach((item) => {
            let todoItemDiv = document.createElement("div");
            todoItemDiv.classList.add("mb-2");
            todoItemDiv.textContent = `${item.task} - ${item.complete ? "Hecho" : "Pendiente"}`;
            div.appendChild(todoItemDiv);
        });
    });
</script>

</html>

